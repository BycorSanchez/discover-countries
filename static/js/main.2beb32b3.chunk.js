(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports={container:"Rotable_container__1RVcN",options:"Rotable_options__2d7qq",optionEnter:"Rotable_optionEnter__3dZ9f",optionEnterActive:"Rotable_optionEnterActive__r3K7l",optionExit:"Rotable_optionExit__1SnIb",optionExitActive:"Rotable_optionExitActive__2u01G"}},20:function(e,t,n){e.exports=n.p+"static/media/placeholder.12d0fc49.png"},21:function(e,t,n){e.exports={gallery:"Gallery_gallery__XAC_R",column:"Gallery_column__XplCO",photo:"Gallery_photo__t-YK9",loading:"Gallery_loading__3VGj_"}},22:function(e,t,n){e.exports={heart:"Footer_heart__25VNs",heartBeat:"Footer_heartBeat__2Yotn",icon:"Footer_icon__cpA9G"}},24:function(e,t,n){e.exports={slice:"Slice_slice__3FA6w",focus:"Slice_focus__3DGTz"}},35:function(e,t,n){e.exports=n.p+"static/media/images.e94bed21.svg"},36:function(e,t,n){e.exports=n.p+"static/media/passport.3b97fe46.svg"},37:function(e,t,n){e.exports=n.p+"static/media/suitcase.ae014b39.svg"},38:function(e,t,n){e.exports=n.p+"static/media/boardingpass.8b1f1164.svg"},39:function(e,t,n){e.exports=n.p+"static/media/error.6f29afb2.svg"},42:function(e,t,n){e.exports=n.p+"static/media/back1.f9a04b4a.svg"},43:function(e,t,n){e.exports=n.p+"static/media/back2.d41fa46a.svg"},45:function(e,t,n){e.exports=n.p+"static/media/loadingspinner.47876779.svg"},46:function(e,t,n){e.exports=n.p+"static/media/unsplash.ea0cefc3.svg"},47:function(e,t,n){e.exports=n.p+"static/media/iconmonstr.0264d61d.svg"},52:function(e,t,n){e.exports=n(86)},57:function(e,t,n){},6:function(e,t,n){e.exports={overlap:"Front_overlap__8q5dc",hideText:"Front_hideText__fb55d",noInteraction:"Front_noInteraction__1-33d",arrow:"Front_arrow__TLi4D",front:"Front_front__3DKu3",frontInfo:"Front_frontInfo__3bJV_",title:"Front_title__OqGCt",back:"Front_back__2hh-8",icon:"Front_icon__10fXU",backIcon:"Front_backIcon__2tAxf",backIconHover:"Front_backIconHover__3bmsW",background:"Front_background__3nFbq"}},8:function(e,t,n){e.exports={modal:"Modal_modal__3Sw5R",content:"Modal_content__6ekOf",container:"Modal_container__1lTW3",control:"Modal_control__1pfW4",close:"Modal_close__1pqWU",loading:"Modal_loading__IcY51",photo:"Modal_photo__2VFBo"}},86:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(12),c=n.n(r),i=(n(57),n(1)),l=n(2),s=n(4),u=n(3),d=n(5),p=n(13),h=n.n(p),f=n(87),m=n(9),_=n.n(m),v=n(35),g=n.n(v),b=n(36),y=n.n(b),E=n(37),k=n.n(E),x=n(38),w=n.n(x),O=n(39),j=n.n(O),L=[{image:g.a,color:"#f3c97c",message:"Loading images"},{image:y.a,color:"#66ca66",message:"Looking for passports"},{image:k.a,color:"#7eb4e0",message:"Packing the suitcase"},{image:w.a,color:"#a76ad2",message:"Printing boarding passes"}],N={image:j.a,color:"#e82525",message:"Oops! Something went wrong.."},S=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={current:0},n._updateMessage=function(){var e=(n.state.current+1)%L.length;n.setState({current:e})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this._updateMessage,1500)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.display;!e.error&&t||this._clearInterval()}},{key:"componentWillUnmount",value:function(){this._clearInterval()}},{key:"_clearInterval",value:function(){this.interval&&(this.interval=clearInterval(this.interval))}},{key:"render",value:function(){var e=this.props,t=e.display,n=e.error?N:L[this.state.current];return o.a.createElement(f.a,{in:t,classNames:{enter:_.a.frontLoaderEnter,exit:_.a.frontLoaderExit,exitDone:_.a.frontLoaderExitDone},timeout:400,unmountOnExit:!0},o.a.createElement("div",{className:_.a.background},o.a.createElement("div",{className:_.a.container},o.a.createElement("div",{className:_.a.circle,style:{background:n.color}},o.a.createElement("object",{type:"image/svg+xml",data:n.image,className:_.a.icon},"Loading")),o.a.createElement("h2",{className:_.a.message},n.message))))}}]),t}(a.Component);S.props={display:h.a.bool,error:h.a.bool},S.defaultProps={display:!0,error:!1};var F=S,C=n(18),I=n(19),D=n.n(I),M=n(24),P=n.n(M),A=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o))))._polygon=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e*t-a,r=e*t+a,c=(e+1)*t+a,i=(e-1)*t-a;return n._polygonOf(o,c,r,i)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"_callListener",value:function(e,t){e&&e(t)}},{key:"_fullPolygon",value:function(){return this._polygonOf(0,100,100,0)}},{key:"_polygonOf",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(4===t.length)return"vertical"===this.props.type?this._verticalPolygon(t):this._horizontalPolygon(t)}},{key:"_verticalPolygon",value:function(e){return"polygon(".concat(e[0],"% 0, ").concat(e[1],"% 0, ").concat(e[2],"% 100%, ").concat(e[3],"% 100%)")}},{key:"_horizontalPolygon",value:function(e){return"polygon(0 ".concat(e[0],"%, 0 ").concat(e[1],"%, 100% ").concat(e[2],"%, 100% ").concat(e[3],"%)")}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,a=t.width,r=t.image,c=t.isSelected,i=t.isHover,l=t.ariaLabel,s=c?this._fullPolygon():this._polygon(n,a,i?a/4:0);return o.a.createElement("div",{className:D()(P.a.slice,Object(C.a)({},P.a.focus,c||i)),style:{clipPath:s,WebkitClipPath:s,backgroundImage:"url(".concat(r,")")},onMouseEnter:function(){return e._callListener(e.props.onHover,n)},onClick:function(){return e._callListener(e.props.onSelect,n)},"aria-label":l})}}]),t}(a.Component);A.defaultProps={isHover:!1,isSelected:!1,type:"vertical"};var W=A,G=n(88),R=n(10),B=n.n(R),H=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.current,a=e.defaultValue;return o.a.createElement("div",{className:B.a.container},o.a.createElement(G.a,{component:"span",className:B.a.options},o.a.createElement(f.a,{classNames:{appear:B.a.option,enter:B.a.optionEnter,enterActive:B.a.optionEnterActive,exit:B.a.optionExit,exitActive:B.a.optionExitActive},key:n,timeout:{enter:600,exit:600}},o.a.createElement("span",null,void 0!==n?t[n]:a))))}}]),t}(a.Component);H.defaultProps={defaultValue:""};var T=H,V=n(6),K=n.n(V),q=n(42),z=n.n(q),U=n(43),X=n.n(U),J=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={current:void 0,isSelected:!1},n._onHover=function(e){n.state.isSelected||n.setState({current:e})},n._onSelect=function(e){n.setState({current:e,isSelected:!0}),n.props.onSelect(e)},n._onDeselect=function(){n.setState({current:void 0,isSelected:!1}),n.props.onDeselect()},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.dataList,a=t.isMobile,r=this.state,c=r.current,i=r.isSelected,l=100/(n.length-1),s=i?n[c]:void 0,u=n.map(function(e){return e.title});return o.a.createElement("section",{className:K.a.front},o.a.createElement("div",{className:D()(K.a.frontInfo,K.a.overlap,Object(C.a)({},K.a.noInteraction,!i))},o.a.createElement("h1",null,o.a.createElement("span",{className:K.a.title},"Discover"),o.a.createElement(T,{current:c,options:u,defaultValue:"Countries"}),i&&o.a.createElement("button",{className:K.a.back,onClick:this._onDeselect,title:"Back","aria-label":"Back"},o.a.createElement("object",{type:"image/svg+xml",data:z.a,id:K.a.backIcon,className:K.a.icon},"Back"),o.a.createElement("object",{type:"image/svg+xml",data:X.a,id:K.a.backIconHover,className:K.a.icon},"Back"))),o.a.createElement("h2",null,i?s.description:"Select a country"),i&&o.a.createElement("a",{className:[K.a.arrow,K.a.hideText].join(" "),href:"#gallery"},"Next")),o.a.createElement("div",{className:K.a.background},n&&n.map(function(t,n){return o.a.createElement(W,{key:n,item:n,width:l,image:t.src,isHover:n===c&&!i,isSelected:n===c&&i,type:a?"horizontal":"vertical",onHover:e._onHover,onSelect:e._onSelect,ariaLabel:t.title})})))}}]),t}(a.Component);J.defaultProps={isMobile:!1};var Y=J,Q=n(49),Z=n(44),$=n.n(Z),ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Array(Math.ceil((t-e)/n)).fill(e).map(function(e,t){return e+t*n})},te={rootMargin:"20px",threshold:0},ne=function(e,t){e.forEach(function(e){e.isIntersecting&&(t.unobserve(e.target),e.target.src=e.target.dataset.src)})},ae=function(e,t){return e.src[oe(t)]},oe=function(e){return e<200?"thumb":e<400?"small":e<800?"medium":e<2e3?"large":"full"},re=n(8),ce=n.n(re),ie=n(20),le=n.n(ie),se=n(45),ue=n.n(se),de=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={current:n.props.selected,loaded:!1,error:!1},n._update=function(e){e>-1&&e<n.props.photos.length&&n.setState({current:e,loaded:!1,error:!1})},n._next=function(){return n._update(n.state.current+1)},n._previous=function(){return n._update(n.state.current-1)},n._photoLoaded=function(){return n.setState({loaded:!0})},n._photoLoadError=function(){n.setState({loaded:!0,error:!0}),console.error("Photo could not be loaded")},n._handleKey=function(e){switch(e.keyCode){case 37:e.preventDefault(),n._previous();break;case 39:e.preventDefault(),n._next()}},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.photos,n=e.width,a=e.onExit,r=this.state,c=r.current,i=r.loaded,l=r.error,s=t[c],u=ae(s,n),d=c>0,p=c<t.length-1;return o.a.createElement("div",{className:ce.a.modal,onKeyDown:this._handleKey},o.a.createElement($.a,{titleText:"Modal image",onExit:a,focusDialog:!0,verticallyCenter:!0,includeDefaultStyles:"width: auto"},o.a.createElement("div",{className:ce.a.content},o.a.createElement("button",{className:ce.a.close,onClick:a,title:"Close"},"\xd7"),o.a.createElement("div",{className:ce.a.container},d&&o.a.createElement("button",{className:ce.a.control,onClick:this._previous,title:"Previous"},"\u276e"),!i&&o.a.createElement("span",{className:ce.a.loading},o.a.createElement("img",{src:ue.a,alt:"Loading"})),o.a.createElement("figure",{className:ce.a.information},o.a.createElement("img",{className:ce.a.photo,src:l?le.a:u,alt:l?"Default":s.photographer+"photo",onLoad:this._photoLoaded,onError:this._photoLoadError}),o.a.createElement("figcaption",null,o.a.createElement("p",null,"Photo by ",o.a.createElement("a",{href:s.photographer_url,target:"_blank",rel:"noopener noreferrer"},s.photographer)," on ",o.a.createElement("a",{href:s.url,target:"_blank",rel:"noopener noreferrer"},"Unsplash")))),p&&o.a.createElement("button",{className:ce.a.control,onClick:this._next,title:"Next"},"\u276f")))))}}]),t}(a.Component),pe=n(21),he=n.n(pe),fe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={modal:void 0},e._openModal=function(t){return e.setState({modal:t})},e._closeModal=function(){return e.setState({modal:void 0})},e._renderColumn=function(t){var n=e.props,a=n.photos,r=n.columns,c=100/r,i=n.deviceWidth/r,l=ee(t,a.length,r);return o.a.createElement("div",{key:t,className:he.a.column,style:{width:"calc( "+c+"% - 10px )"}},l.map(function(t){return o.a.createElement("img",{key:t,src:le.a,"data-src":ae(a[t],i),alt:a[t].photographer+" photo",onClick:function(){return e._openModal(t)},ref:function(t){return e.imageRefs.push(t)},className:he.a.photo})}))},e.imageRefs=[],e.observer=new IntersectionObserver(ne,te),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.imageRefs.forEach(function(t){return e.observer.observe(t)})}},{key:"render",value:function(){var e=this.props,t=e.photos,n=e.columns,a=e.deviceWidth,r=this.state.modal;return o.a.createElement("section",{id:"gallery",className:he.a.gallery},Object(Q.a)(Array(n).keys()).map(this._renderColumn),void 0!==r&&o.a.createElement(de,{photos:t,selected:r,onExit:this._closeModal,width:a}))}}]),t}(a.Component),me=n(22),_e=n.n(me),ve=n(46),ge=n.n(ve),be=n(47),ye=n.n(be),Ee=function(){return o.a.createElement("footer",null,o.a.createElement("p",null,"Photos from"," ",o.a.createElement("a",{href:"https://unsplash.com"},o.a.createElement("object",{type:"image/svg+xml",data:ge.a,className:_e.a.icon},"unsplash"))),o.a.createElement("p",null,"Icons by ",o.a.createElement("a",{href:"https://iconmonstr.com/"},o.a.createElement("object",{type:"image/svg+xml",data:ye.a,className:_e.a.icon},"iconmonstr"))),o.a.createElement("p",null,"Made with"," ",o.a.createElement("span",{className:_e.a.heart},"\u2665")," by"," ",o.a.createElement("a",{href:"https://twitter.com/bycorsanchez"},"Bycor")))},ke=n(48),xe=n.n(ke),we=function(){function e(){Object(i.a)(this,e)}return Object(l.a)(e,[{key:"loadData",value:function(e,t,n){this.load(e.map(function(e){return e.src}),t,n)}},{key:"load",value:function(e,t,n){var a=this;e&&(this.loaded=0,this.srcList=e,this.onload=t,e.forEach(function(e){var t=new Image;t.src=e,t.onload=a._onLoad.bind(a),t.onerror=n}))}},{key:"_onLoad",value:function(){this.loaded++,this.loaded>=this.srcList.length&&this.onload&&this.onload()}}]),e}(),Oe=n(25),je=n.n(Oe),Le=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={dataList:[],photos:[],loading:!0,error:!1},n._loadGallery=function(e){n._resetPhotos(),n._loadPhotos(e)},n._hideGallery=function(){return n._resetPhotos()},n._imagesLoaded=function(){n.setState({loading:!1})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;je.a.get("res/data/countries.json").then(function(e){return e.data}).then(function(t){(new we).loadData(t,e._imagesLoaded),e.setState({dataList:t})}).catch(function(){e.setState({error:!0}),console.error("Front page information could not be loaded")})}},{key:"_loadPhotos",value:function(e){var t,n=this,a=this.state.dataList[e];(t=a.photos,je.a.get(t).then(function(e){return e.data})).then(function(e){return n.setState({photos:e})}).catch(function(){n.setState({photos:[]}),console.error("Gallery images could not be loaded")})}},{key:"_resetPhotos",value:function(){this.setState({photos:[]})}},{key:"render",value:function(){var e=this.state,t=e.dataList,n=e.photos,a=e.loading,r=e.error,c=this.props.deviceWidth,i=c<1e3?c<700?2:3:5,l=n&&n.length>0;return o.a.createElement("div",null,o.a.createElement("main",null,o.a.createElement(F,{display:a,error:r}),o.a.createElement(Y,{dataList:t,onSelect:this._loadGallery,onDeselect:this._hideGallery,isMobile:c<600}),l&&o.a.createElement(fe,{photos:n,columns:i,deviceWidth:c})),o.a.createElement(Ee,null))}}]),t}(a.Component),Ne=xe()(function(e){return{deviceWidth:e.width}})(Le),Se=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}window.IntersectionObserver||n(85),c.a.render(o.a.createElement(Ne,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/discover-countries",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/discover-countries","/service-worker.js");Se?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Fe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):Fe(e)})}}()},9:function(e,t,n){e.exports={background:"FrontLoader_background__eeXQG",container:"FrontLoader_container__1TyhV",circle:"FrontLoader_circle__23Bss",icon:"FrontLoader_icon__8zdH8",message:"FrontLoader_message__1OSCK",frontLoaderEnter:"FrontLoader_frontLoaderEnter__1Ekl1",frontLoaderExit:"FrontLoader_frontLoaderExit__10tlL",frontLoaderExitDone:"FrontLoader_frontLoaderExitDone__1dFtE"}}},[[52,1,2]]]);
//# sourceMappingURL=main.2beb32b3.chunk.js.map